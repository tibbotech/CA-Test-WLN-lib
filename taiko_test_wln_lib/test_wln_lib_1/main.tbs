include "global.tbh"

'====================================================================
sub on_sys_init()

	'For the GA1000 Wi-Fi module, only WEP security protocol is supported for this particular sample.
	'For the WA2000	Wi-Fi module, WEP, WPA and WPA2 protocols are supported.
	
	#if SRC_LIB_VER < &h020003
		if wln_start("TibboWiFi",WLN_SECURITY_MODE_DISABLED,"",PL_WLN_DOMAIN_FCC)<>WLN_STATUS_OK then
			sys.halt
		end if
	#endif

	#if SRC_LIB_VER >= &h020003
		if wln_start("TibboWiFi",WLN_SECURITY_MODE_DISABLED,"",PL_WLN_DOMAIN_FCC,YES,PL_WLN_ASCAN_INFRASTRUCTURE)<>WLN_STATUS_OK then
			sys.halt
		end if
	#endif
		
end sub
'--------------------------------------------------------------------
sub on_sys_timer()
	wln_proc_timer()
end sub

'--------------------------------------------------------------------
sub on_sock_data_arrival()
	wln_proc_data()
end sub

'--------------------------------------------------------------------
sub on_wln_task_complete(completed_task as pl_wln_tasks)
	wln_proc_task_complete(completed_task)
end sub

'--------------------------------------------------------------------
sub on_wln_event(wln_event as pl_wln_events)
	wln_proc_event(wln_event)
end sub
